import{r as a,j as e}from"./vendor-BunRHuGz.js";import{G as y}from"./genai-4T0bCi7J.js";import{R as r,S as N,P as v,E as S}from"./index-Cqt4-YtX.js";import{X as I,f as A,S as E,U as $,g as b,h as k}from"./lucide-D9KXQ925.js";import{A as D,m as C}from"./framer-motion-BpyXYZWU.js";import"./three-vendors-BtcjhKwD.js";const M=`
You are an AI assistant for ${r.name}'s professional portfolio website.
Your role is to answer questions about Alex's skills, experience, and projects professionally and concisely.
Refuse to answer questions unrelated to Alex's professional life or technology.
Keep answers relatively short (under 100 words) unless asked for details.

Here is Alex's Data:
Name: ${r.name}
Title: ${r.title}
Summary: ${r.summary}
Contact: ${r.email}
Location: ${r.location}

Skills: ${N.map(t=>t.name).join(", ")}

Projects:
${v.map(t=>`- ${t.title}: ${t.description}`).join(`
`)}

Experience:
${S.map(t=>`- ${t.role} at ${t.company} (${t.period})`).join(`
`)}

Tone: Professional, friendly, and enthusiastic about technology.
`;let u=null;const P=()=>(u||(u=new y({apiKey:"AIzaSyBMDK8Yan8uUM_AiSWDFCql2VcKlIpULDA"}).chats.create({model:"gemini-2.5-flash",config:{systemInstruction:M}})),u),T=async t=>{try{return(await P().sendMessage({message:t})).text||"I'm sorry, I couldn't generate a response."}catch(n){return console.error("Gemini API Error:",n),"Sorry, I'm having trouble connecting to the AI service right now. Please try again later."}},B=()=>{const[t,n]=a.useState(!1),[d,c]=a.useState([{id:"welcome",role:"model",text:"Hi! I'm Najm's AI assistant. Ask me anything about her skills, projects, or experience!",timestamp:new Date}]),[i,g]=a.useState(""),[l,p]=a.useState(!1),h=a.useRef(null),j=()=>{var s;(s=h.current)==null||s.scrollIntoView({behavior:"smooth"})};a.useEffect(()=>{j()},[d,t]);const f=async()=>{if(!i.trim()||l)return;const s={id:Date.now().toString(),role:"user",text:i,timestamp:new Date};c(o=>[...o,s]),g(""),p(!0);try{const o=await T(s.text),m={id:(Date.now()+1).toString(),role:"model",text:o,timestamp:new Date};c(x=>[...x,m])}catch(o){console.error("Chat error",o);const m={id:(Date.now()+1).toString(),role:"model",text:"Sorry, I encountered an error. Please try again.",timestamp:new Date,isError:!0};c(x=>[...x,m])}finally{p(!1)}},w=s=>{s.key==="Enter"&&!s.shiftKey&&(s.preventDefault(),f())};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed bottom-6 right-6 z-50",children:e.jsxs("button",{onClick:()=>n(!t),className:"bg-indigo-600 hover:bg-indigo-500 text-white p-4 rounded-full shadow-lg shadow-indigo-500/30 transition-all duration-300 hover:scale-110 flex items-center justify-center group","aria-label":"Toggle Chat",children:[t?e.jsx(I,{size:24}):e.jsx(A,{size:24}),!t&&e.jsxs("span",{className:"absolute -top-1 -right-1 flex h-3 w-3",children:[e.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-pink-400 opacity-75"}),e.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-pink-500"})]})]})}),e.jsx(D,{children:t&&e.jsxs(C.div,{initial:{opacity:0,y:20,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:20,scale:.9},className:"fixed bottom-24 right-6 w-[90vw] md:w-96 h-[500px] bg-slate-900/95 backdrop-blur-xl border border-slate-700 rounded-2xl shadow-2xl flex flex-col z-50 overflow-hidden",children:[e.jsxs("div",{className:"p-4 bg-slate-800/50 border-b border-slate-700 flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-tr from-indigo-500 to-purple-600 flex items-center justify-center",children:e.jsx(E,{size:20,className:"text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-white",children:"Najm's AI Assistant"}),e.jsxs("p",{className:"text-xs text-slate-400 flex items-center gap-1",children:[e.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500"}),"Powered by Gemini"]})]})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[d.map(s=>e.jsxs("div",{className:`flex gap-3 ${s.role==="user"?"flex-row-reverse":""}`,children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 ${s.role==="user"?"bg-slate-700":"bg-indigo-600"}`,children:s.role==="user"?e.jsx($,{size:16}):e.jsx(b,{size:16})}),e.jsx("div",{className:`max-w-[75%] p-3 rounded-2xl text-sm ${s.role==="user"?"bg-slate-700 text-white rounded-tr-sm":"bg-indigo-600/20 text-indigo-100 border border-indigo-500/30 rounded-tl-sm"} ${s.isError?"bg-red-900/50 border-red-500/50 text-red-200":""}`,children:s.text})]},s.id)),l&&e.jsxs("div",{className:"flex gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-indigo-600 flex items-center justify-center flex-shrink-0",children:e.jsx(b,{size:16})}),e.jsxs("div",{className:"bg-indigo-600/20 p-3 rounded-2xl rounded-tl-sm border border-indigo-500/30 flex items-center gap-2",children:[e.jsx("span",{className:"w-2 h-2 bg-indigo-400 rounded-full animate-bounce"}),e.jsx("span",{className:"w-2 h-2 bg-indigo-400 rounded-full animate-bounce delay-100"}),e.jsx("span",{className:"w-2 h-2 bg-indigo-400 rounded-full animate-bounce delay-200"})]})]}),e.jsx("div",{ref:h})]}),e.jsx("div",{className:"p-4 bg-slate-800/50 border-t border-slate-700",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:i,onChange:s=>g(s.target.value),onKeyDown:w,placeholder:"Ask about my projects...",className:"flex-1 bg-slate-900 border border-slate-600 rounded-xl px-4 py-2 text-sm text-white focus:outline-none focus:border-indigo-500 transition-colors",disabled:l}),e.jsx("button",{onClick:f,disabled:l||!i.trim(),className:"bg-indigo-600 hover:bg-indigo-500 disabled:bg-slate-700 disabled:text-slate-500 text-white p-2 rounded-xl transition-colors",children:e.jsx(k,{size:20})})]})})]})})]})};export{B as default};
